<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js'></script>
        <script type='text/javascript' src='./wordwrap.js'></script>
        <script type='text/javascript' src='./html5tree.js'></script>
        <script type="text/javascript">
            var json = {
                "52ff228fe6d03f680a00675f": {"_id": "52ff228fe6d03f680a00675f", "text": "5asdasdasdasdasd"},
                "52ff2291e6d03f680a001f0c": {"_id": "52ff2291e6d03f680a001f0c", "text": "测试下长文字节点的排版问题","orderno":4,"children": [], "parent": "52ff228fe6d03f680a00675f"},
                "52ff2291e6d03f680a001f0e": {"_id": "52ff2291e6d03f680a001f0e", "text": "6", "children": [], "parent": "52ff228fe6d03f680a00675f"},
                "52ff2291e6d03f680a001f10": {"_id": "52ff2291e6d03f680a001f10", "text": "长文字节点的排版问题已经解决了", "children": [], "parent": "52ff228fe6d03f680a00675f"},
                "52ff2291e6d03f680a001f0f": {"_id": "52ff2291e6d03f680a001f0f", "text": "7", "children": [], "parent": "52ff228fe6d03f680a00675f"},
            };
            $(document).ready(function() {
                var treeViewInstance = new TreeView;
                treeViewInstance.linestyle=1;
                treeViewInstance.init({'container': 'canvas', 'data': json});
                treeViewInstance.onClick(function(data){
                    if(!data){alert('没有选中节点');return;}
                    var len=data.length;
                    if(len!==undefined){
                        if(len>0){
                            var text="选中了节点：";
                            for(var i=0;i<len;i++){
                                text+=data[i]['index']+',';
                            }
                            alert(text);
                        }
                    }else{
                        alert('删除了节点：'+data['index']);
                    }
                });
            });
        </script>
    </head>
    <body>
        <div id="panel-outer" class="radius">
            <div id="panel" class="radius" style="height:800px; overflow-y:auto;">
                <canvas id='canvas' width="500" height="500"></canvas>
                <canvas id='canvas2' width="500" height="500"></canvas>
                <canvas id='canvas3' width="500" height="500"></canvas>
            </div>
        </div>
    </body>
</html>